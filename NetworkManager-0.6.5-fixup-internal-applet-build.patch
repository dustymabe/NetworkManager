diff -up NetworkManager-0.7.0/nm-applet-0.7.0/configure.ac.buildfix NetworkManager-0.7.0/nm-applet-0.7.0/configure.ac
--- NetworkManager-0.7.0/nm-applet-0.7.0/configure.ac.buildfix	2007-11-13 09:53:39.000000000 -0500
+++ NetworkManager-0.7.0/nm-applet-0.7.0/configure.ac	2007-11-13 15:14:13.000000000 -0500
@@ -18,10 +18,10 @@ dnl
 dnl This doesn't depend on gnome support, only on gnome-common, autogen already
 dnl uses gnome-autogen
 dnl
-GNOME_COMMON_INIT
-GNOME_DEBUG_CHECK
-GNOME_COMPILE_WARNINGS([maximum])
-GNOME_MAINTAINER_MODE_DEFINES
+dnl GNOME_COMMON_INIT
+dnl GNOME_DEBUG_CHECK
+dnl GNOME_COMPILE_WARNINGS([maximum])
+dnl GNOME_MAINTAINER_MODE_DEFINES
 
 dnl
 dnl Required headers
@@ -60,9 +60,6 @@ AC_C_BIGENDIAN
 PKG_CHECK_MODULES(NMA,
 		[dbus-glib-1 >= 0.72
 		 glib-2.0 >= 2.10
-		 NetworkManager >= 0.7.0
-		 libnm_glib
-		 libnm-util
 		 gtk+-2.0 >= 2.10
 		 libglade-2.0
 		 gconf-2.0
diff -up NetworkManager-0.7.0/nm-applet-0.7.0/src/vpn-properties/Makefile.am.buildfix NetworkManager-0.7.0/nm-applet-0.7.0/src/vpn-properties/Makefile.am
--- NetworkManager-0.7.0/nm-applet-0.7.0/src/vpn-properties/Makefile.am.buildfix	2007-09-22 22:54:27.000000000 -0400
+++ NetworkManager-0.7.0/nm-applet-0.7.0/src/vpn-properties/Makefile.am	2007-11-13 15:14:13.000000000 -0500
@@ -1,6 +1,10 @@
 
 bin_PROGRAMS = nm-vpn-properties
 
+INCLUDES = -I${top_srcdir}/../include \
+           -I${top_srcdir}/../libnm-util \
+           -I${top_srcdir}/../libnm-glib
+
 nm_vpn_propertiesdir=$(includedir)/NetworkManager
 
 nm_vpn_properties_HEADERS = 					\
@@ -28,7 +32,9 @@ nm_vpn_properties_CFLAGS = \
 
 nm_vpn_properties_LDADD = \
 	$(NMA_LIBS) \
-	${top_builddir}/src/gconf-helpers/libgconf-helpers.la
+	${top_builddir}/src/gconf-helpers/libgconf-helpers.la \
+	-L${top_builddir}/../libnm-util $(top_builddir)/../libnm-util/libnm-util.la \
+	-L${top_builddir}/../libnm-glib $(top_builddir)/../libnm-glib/libnm_glib.la
 
 CLEANFILES = $(server_DATA) *.bak *.gladep *~
 
diff -up NetworkManager-0.7.0/nm-applet-0.7.0/src/gconf-helpers/Makefile.am.buildfix NetworkManager-0.7.0/nm-applet-0.7.0/src/gconf-helpers/Makefile.am
--- NetworkManager-0.7.0/nm-applet-0.7.0/src/gconf-helpers/Makefile.am.buildfix	2007-10-27 18:23:56.000000000 -0400
+++ NetworkManager-0.7.0/nm-applet-0.7.0/src/gconf-helpers/Makefile.am	2007-11-13 15:14:13.000000000 -0500
@@ -1,3 +1,7 @@
+INCLUDES = -I${top_srcdir}/../include \
+           -I${top_srcdir}/../libnm-util \
+           -I${top_srcdir}/../libnm-glib
+
 noinst_LTLIBRARIES = libgconf-helpers.la
 
 libgconf_helpers_la_SOURCES =	\
@@ -8,5 +12,8 @@ libgconf_helpers_la_SOURCES =	\
 
 libgconf_helpers_la_CPPFLAGS = $(NMA_CFLAGS)
 
-libgconf_helpers_la_LIBADD = $(NMA_LIBS)
+libgconf_helpers_la_LIBADD = $(NMA_LIBS) \
+	-L${top_builddir}/../libnm-util $(top_builddir)/../libnm-util/libnm-util.la \
+	-L${top_builddir}/../libnm-glib $(top_builddir)/../libnm-glib/libnm_glib.la
+
 
diff -up NetworkManager-0.7.0/nm-applet-0.7.0/src/utils/Makefile.am.buildfix NetworkManager-0.7.0/nm-applet-0.7.0/src/utils/Makefile.am
--- NetworkManager-0.7.0/nm-applet-0.7.0/src/utils/Makefile.am.buildfix	2007-11-13 15:41:01.000000000 -0500
+++ NetworkManager-0.7.0/nm-applet-0.7.0/src/utils/Makefile.am	2007-11-13 15:42:30.000000000 -0500
@@ -1,3 +1,7 @@
+INCLUDES = -I${top_srcdir}/../include \
+           -I${top_srcdir}/../libnm-util \
+           -I${top_srcdir}/../libnm-glib
+
 noinst_LTLIBRARIES = libutils.la
 
 libutils_la_SOURCES = \
@@ -10,7 +14,9 @@ libutils_la_SOURCES = \
 
 libutils_la_CPPFLAGS = $(NMA_CFLAGS)
 
-libutils_la_LIBADD = $(NMA_LIBS)
+libutils_la_LIBADD = $(NMA_LIBS) \
+	-L${top_builddir}/../libnm-util $(top_builddir)/../libnm-util/libnm-util.la \
+	-L${top_builddir}/../libnm-glib $(top_builddir)/../libnm-glib/libnm_glib.la
 
 if WITH_GNUTLS
 libutils_la_SOURCES += crypto_gnutls.c
@@ -28,4 +34,7 @@ noinst_PROGRAMS = test-crypto
 
 test_crypto_SOURCES = test-crypto.c
 test_crypto_CPPFLAGS = $(NMA_CFLAGS) -D_GNU_SOURCE
-test_crypto_LDADD = $(NMA_LIBS) ${top_builddir}/src/utils/libutils.la
+test_crypto_LDADD = $(NMA_LIBS) ${top_builddir}/src/utils/libutils.la \
+	-L${top_builddir}/../libnm-util $(top_builddir)/../libnm-util/libnm-util.la \
+	-L${top_builddir}/../libnm-glib $(top_builddir)/../libnm-glib/libnm_glib.la
+
diff -up NetworkManager-0.7.0/nm-applet-0.7.0/src/wireless-security/Makefile.am.buildfix NetworkManager-0.7.0/nm-applet-0.7.0/src/wireless-security/Makefile.am
--- NetworkManager-0.7.0/nm-applet-0.7.0/src/wireless-security/Makefile.am.buildfix	2007-11-07 12:12:16.000000000 -0500
+++ NetworkManager-0.7.0/nm-applet-0.7.0/src/wireless-security/Makefile.am	2007-11-13 15:14:13.000000000 -0500
@@ -1,5 +1,9 @@
 noinst_LTLIBRARIES = libwireless-security.la
 
+INCLUDES = -I${top_srcdir}/../include \
+           -I${top_srcdir}/../libnm-util \
+           -I${top_srcdir}/../libnm-glib
+
 libwireless_security_la_SOURCES = \
 	wireless-security.h \
 	wireless-security.c \
@@ -35,5 +39,7 @@ libwireless_security_la_CPPFLAGS = \
 
 libwireless_security_la_LIBADD = \
 	$(NMA_LIBS) \
-	${top_builddir}/src/utils/libutils.la
+	${top_builddir}/src/utils/libutils.la \
+	-L${top_srcdir}/../libnm-util $(top_builddir)/../libnm-util/libnm-util.la \
+	-L${top_srcdir}/../libnm-glib $(top_builddir)/../libnm-glib/libnm_glib.la
 
diff -up NetworkManager-0.7.0/nm-applet-0.7.0/src/connection-editor/Makefile.am.buildfix NetworkManager-0.7.0/nm-applet-0.7.0/src/connection-editor/Makefile.am
--- NetworkManager-0.7.0/nm-applet-0.7.0/src/connection-editor/Makefile.am.buildfix	2007-09-20 07:40:37.000000000 -0400
+++ NetworkManager-0.7.0/nm-applet-0.7.0/src/connection-editor/Makefile.am	2007-11-13 15:14:13.000000000 -0500
@@ -2,6 +2,10 @@ NULL=
 
 bin_PROGRAMS = nm-connection-editor
 
+INCLUDES = -I${top_srcdir}/../include \
+           -I${top_srcdir}/../libnm-util \
+           -I${top_srcdir}/../libnm-glib
+
 nm_connection_editor_CPPFLAGS =			\
 	$(NMA_CFLAGS)				\
 	-DICONDIR=\""$(datadir)/icons"\"	\
@@ -29,7 +33,9 @@ nm_connection_editor_LDADD = \
 	$(top_builddir)/src/gconf-helpers/libgconf-helpers.la \
 	${top_builddir}/src/wireless-security/libwireless-security.la \
 	${top_builddir}/src/utils/libutils.la \
-	$(NMA_LIBS)
+	$(NMA_LIBS) \
+	-L${top_builddir}/../libnm-util $(top_builddir)/../libnm-util/libnm-util.la \
+	-L${top_builddir}/../libnm-glib $(top_builddir)/../libnm-glib/libnm_glib.la
 
 gladedir = $(datadir)/nm-applet
 glade_DATA = nm-connection-editor.gladediff -up NetworkManager-0.7.0/nm-applet-0.7.0/src/Makefile.am.buildfix NetworkManager-0.7.0/nm-applet-0.7.0/src/Makefile.am
--- NetworkManager-0.7.0/nm-applet-0.7.0/src/Makefile.am.buildfix	2007-10-27 18:11:31.000000000 -0400
+++ NetworkManager-0.7.0/nm-applet-0.7.0/src/Makefile.am	2007-11-13 15:14:13.000000000 -0500
@@ -4,6 +4,10 @@ NULL=
 
 bin_PROGRAMS = nm-applet
 
+INCLUDES = -I${top_srcdir}/../include \
+           -I${top_srcdir}/../libnm-util \
+           -I${top_srcdir}/../libnm-glib
+
 nm_applet_CPPFLAGS = \
 	$(NMA_CFLAGS) \
 	-DICONDIR=\""$(datadir)/icons"\"						\
@@ -58,7 +62,9 @@ nm_applet_LDADD = \
 	$(NMA_LIBS) \
 	${top_builddir}/src/utils/libutils.la \
 	${top_builddir}/src/gconf-helpers/libgconf-helpers.la \
-	${top_builddir}/src/wireless-security/libwireless-security.la
+	${top_builddir}/src/wireless-security/libwireless-security.la \
+	-L${top_srcdir}/../libnm-util $(top_builddir)/../libnm-util/libnm-util.la \
+	-L${top_srcdir}/../libnm-glib $(top_builddir)/../libnm-glib/libnm_glib.la
 
 if WITH_NOTIFY
 nm_applet_LDADD += $(NOTIFY_LIBS)
diff -up NetworkManager-0.7.0/nm-applet-0.7.0/src/applet-dialogs.c.fix NetworkManager-0.7.0/nm-applet-0.7.0/src/applet-dialogs.c
--- NetworkManager-0.7.0/nm-applet-0.7.0/src/applet-dialogs.c.fix	2008-02-07 18:23:50.000000000 -0500
+++ NetworkManager-0.7.0/nm-applet-0.7.0/src/applet-dialogs.c	2008-02-07 18:23:56.000000000 -0500
@@ -259,7 +259,7 @@ applet_info_dialog_show (NMApplet *apple
 {
 	GtkWidget *dialog;
 	NMDevice *device;
-	NMConnection *connection;
+	NMConnection *connection = NULL;
 
 	device = applet_get_first_active_device (applet);
 	if (device)
