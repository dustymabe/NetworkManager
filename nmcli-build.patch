diff -up NetworkManager-0.7.999/nmcli/src/CMakeLists.txt.foo NetworkManager-0.7.999/nmcli/src/CMakeLists.txt
--- NetworkManager-0.7.999/nmcli/src/CMakeLists.txt.foo	2010-01-20 18:49:43.561505337 -0800
+++ NetworkManager-0.7.999/nmcli/src/CMakeLists.txt	2010-01-20 18:51:51.262342074 -0800
@@ -1,14 +1,15 @@
 FIND_PACKAGE (PkgConfig REQUIRED)
 PKG_CHECK_MODULES (GLIB2 REQUIRED glib-2.0>=2.18 )
 PKG_CHECK_MODULES (DBUS_GLIB REQUIRED dbus-glib-1>=0.76)
-PKG_CHECK_MODULES (NETWORK_MANAGER REQUIRED NetworkManager>=0.7.998)
-PKG_CHECK_MODULES (LIBNM REQUIRED libnm-glib>=0.7.998)
-PKG_CHECK_MODULES (LIBNM REQUIRED libnm-utils>=0.7.998)
+#PKG_CHECK_MODULES (NETWORK_MANAGER REQUIRED NetworkManager>=0.7.998)
+#PKG_CHECK_MODULES (LIBNM REQUIRED libnm-glib>=0.7.998)
+#PKG_CHECK_MODULES (LIBNM REQUIRED libnm-utils>=0.7.998)
 
 INCLUDE_DIRECTORIES (${GLIB2_INCLUDE_DIRS})
 INCLUDE_DIRECTORIES (${DBUS_GLIB_INCLUDE_DIRS})
-INCLUDE_DIRECTORIES (${NETWORK_MANAGER_INCLUDE_DIRS})
-INCLUDE_DIRECTORIES (${LIBNM_INCLUDE_DIRS})
+INCLUDE_DIRECTORIES (../../include)
+INCLUDE_DIRECTORIES (../../libnm-glib)
+INCLUDE_DIRECTORIES (../../libnm-util)
 
 #ADD_DEFINITIONS( -Wall -Werror -std=gnu89 -g -O2 -Wshadow
 ADD_DEFINITIONS( -Wall -std=gnu89 -g -O0 -Wshadow
@@ -44,7 +45,7 @@
 INCLUDE_DIRECTORIES (${CMAKE_CURRENT_SOURCE_DIR})
 
 ADD_EXECUTABLE (nmcli ${NMCLI_SRC})
-TARGET_LINK_LIBRARIES (nmcli ${LIBNM_LIBRARIES})
+TARGET_LINK_LIBRARIES (nmcli -L../../libnm-util/.libs/ -L../../libnm-glib/.libs/ -lnm-glib -lnm-util -lnm-glib-vpn ${DBUS_GLIB_LIBRARIES})
 
 INSTALL(TARGETS nmcli DESTINATION bin)
 
